{{ define "home" }}
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Pantry Pal - Home</title>
  <link rel="stylesheet" href="/css/styles.css">
  <script src="https://unpkg.com/htmx.org@2.0.4"></script>
</head>

<body hx-boost="true">
  <div class="home-container">

    <div class="left-section">
      <h1 class="header">Pantry Pal</h1>
      <div class="welcome-message">
        <p>Welcome, {{ .UserName }}!</p>
      </div>
      <div class="top-buttons">
        <button class="body-button" id="pantryButton" hx-get="/pantry" hx-target="body">My
          Pantry</button>
        <button class="body-button" id="accountButton" hx-get="/user" hx-target="body"
          hx-push-url="/user">Account</button>
        <button class="body-button" id="logoutButton" hx-get="/logout">Logout</button>
      </div>

      <div class="action-section">
        Name: <input type="text" id="searchInput" placeholder="Item Name" />
        Quantity: <input type="number" id="quantityInput" placeholder="Quantity" />
        Expiration Date: <input type="date" id="expirationDateInput" />
        <button class="body-button" id="addItemButton">+ Add New Item</button>
      </div>
    </div>

    <div class="middle-section">
      <div class="search-container">
        <input type="text" id="searchInput" placeholder="Search for items..." />
        <button class="body-button" id="searchButton">Search</button>
      </div>
    </div>

    <div class="right-section" id="right-section" hx-get="/pantry_stats" hx-target="#right-section" hx-swap="outerHTML"
      hx-trigger="load">
      {{ template "pantryStats" .}}
    </div>
  </div>
</body>

</html>
{{ end }}

{{ block "pantryStats" . }}
<div class="stat-block">
  <p class="stat-title">Total Items</p>
  <p class="stat-value" id="totalItems">{{ .NumItems }}</p>
</div>

<div class="stat-block">
  <p class="stat-title">Expiring Soon</p>
  <p class="stat-value" id="expiringSoon">{{ .ExpiringSoon }}</p>
</div>

<div class="stat-block">
  <p class="stat-title">Shopping List</p>
  <p class="stat-value" id="shoppingListCount">{{ .ShoppingList }}</p>
</div>
{{end}}